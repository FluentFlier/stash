{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\"\n\nconst apiBaseUrl =\n  process.env.NEXT_PUBLIC_API_URL?.replace(/\\/$/, \"\") ?? \"http://localhost:3000/api\"\n\nexport const authStorage = {\n  getToken: () => (typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null),\n  setToken: (token: string) => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"token\", token)\n    }\n  },\n  clearToken: () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"token\")\n    }\n  },\n  getUser: () => {\n    if (typeof window === \"undefined\") return null\n    const raw = localStorage.getItem(\"user\")\n    return raw ? (JSON.parse(raw) as { id: string; email: string; name?: string | null }) : null\n  },\n  setUser: (user: { id: string; email: string; name?: string | null }) => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"user\", JSON.stringify(user))\n    }\n  },\n  clearUser: () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"user\")\n    }\n  },\n}\n\nconst api = axios.create({\n  baseURL: apiBaseUrl,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\napi.interceptors.request.use(\n  (config) => {\n    const token = authStorage.getToken()\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => Promise.reject(error)\n)\n\nexport default api\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,aACJ,+DAAiC,QAAQ,OAAO,OAAO;AAElD,MAAM,cAAc;IACzB,UAAU,IAAO,sCAAgC,0BAAgC;IACjF,UAAU,CAAC;QACT;;IAGF;IACA,YAAY;QACV;;IAGF;IACA,SAAS;QACP,wCAAmC,OAAO;;;QAC1C,MAAM;IAER;IACA,SAAS,CAAC;QACR;;IAGF;IACA,WAAW;QACT;;IAGF;AACF;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,YAAY,QAAQ;IAClC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;uCAGb"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/lib/errors.ts"],"sourcesContent":["import { isAxiosError } from \"axios\"\n\ntype ApiErrorPayload = { error?: string }\n\nexport function getErrorMessage(error: unknown, fallback: string) {\n  if (isAxiosError<ApiErrorPayload>(error)) {\n    return error.response?.data?.error ?? fallback\n  }\n  if (error instanceof Error) {\n    return error.message || fallback\n  }\n  return fallback\n}\n"],"names":[],"mappings":";;;;AAAA;;AAIO,SAAS,gBAAgB,KAAc,EAAE,QAAgB;IAC9D,IAAI,IAAA,8JAAY,EAAkB,QAAQ;QACxC,OAAO,MAAM,QAAQ,EAAE,MAAM,SAAS;IACxC;IACA,IAAI,iBAAiB,OAAO;QAC1B,OAAO,MAAM,OAAO,IAAI;IAC1B;IACA,OAAO;AACT"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,kLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,sLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,oLAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,kLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,iMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,yHAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6LAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,iMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/components/ui/gradient-text.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\ninterface GradientTextProps extends React.HTMLAttributes<HTMLSpanElement> {\n  children: React.ReactNode\n  className?: string\n  animate?: boolean\n}\n\nexport function GradientText({ children, className, animate = true, ...props }: GradientTextProps) {\n  return (\n    <span\n      className={cn(\n        \"bg-clip-text text-transparent bg-gradient-to-r from-primary via-emerald-400 to-amber-400\",\n        animate && \"animate-gradient-x bg-[length:200%_auto]\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </span>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAQO,SAAS,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,IAAI,EAAE,GAAG,OAA0B;IAC/F,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,4FACA,WAAW,4CACX;QAED,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///Users/anirudhmanjesh/Hackathons/stash/web-dashboard/src/app/chat/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport { toast } from \"sonner\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\"\nimport { vscDarkPlus } from \"react-syntax-highlighter/dist/esm/styles/prism\"\nimport { Send, Sparkles, User, Copy, Trash2 } from \"lucide-react\"\n\nimport api, { authStorage } from \"@/lib/api\"\nimport { getErrorMessage } from \"@/lib/errors\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport { GradientText } from \"@/components/ui/gradient-text\"\n\ntype Message = {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  type?: 'text' | 'code';\n  language?: string;\n}\n\ntype ChatHistoryItem = {\n  id: string\n  role: \"USER\" | \"ASSISTANT\"\n  content: string\n}\nconst welcomeMessage: Message = {\n  id: \"welcome\",\n  role: \"assistant\",\n  content:\n    \"Hello! I'm your Stash assistant. I can help you find saved content, summarize articles, and organize your collections. What should we do next?\",\n  type: \"text\",\n}\n\nexport default function ChatPage() {\n  const [messages, setMessages] = useState<Message[]>([])\n  const [inputValue, setInputValue] = useState(\"\")\n  const [isTyping, setIsTyping] = useState(false)\n  const [loadingHistory, setLoadingHistory] = useState(true)\n  const scrollRef = useRef<HTMLDivElement>(null)\n  const isAuthed = Boolean(authStorage.getToken())\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollIntoView({ behavior: \"smooth\" })\n    }\n  }, [messages, isTyping])\n\n  useEffect(() => {\n    const loadHistory = async () => {\n      const token = authStorage.getToken()\n      if (!token) {\n        setMessages([welcomeMessage])\n        setLoadingHistory(false)\n        return\n      }\n      try {\n        const response = await api.get(\"/chat/history\", { params: { limit: 50, offset: 0 } })\n        const history = (response.data?.data ?? []) as ChatHistoryItem[]\n        if (!history.length) {\n          setMessages([welcomeMessage])\n        } else {\n          setMessages(\n            history.map((message) => ({\n              id: message.id,\n              role: message.role === \"USER\" ? \"user\" : \"assistant\",\n              content: message.content,\n              type: \"text\",\n            }))\n          )\n        }\n      } catch (error: unknown) {\n        toast.error(getErrorMessage(error, \"Failed to load history.\"))\n        setMessages([welcomeMessage])\n      } finally {\n        setLoadingHistory(false)\n      }\n    }\n\n    loadHistory()\n  }, [])\n\n  useEffect(() => {\n    const handleAuth = () => window.location.reload()\n    window.addEventListener(\"stash:auth-updated\", handleAuth)\n    return () => window.removeEventListener(\"stash:auth-updated\", handleAuth)\n  }, [])\n\n  const handleSend = () => {\n    if (!inputValue.trim()) return\n    if (!isAuthed) {\n      toast.info(\"Connect your account to chat with the agent.\")\n      return\n    }\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      role: \"user\",\n      content: inputValue,\n      type: \"text\",\n    }\n\n    setMessages((prev) => [...prev, newMessage])\n    setInputValue(\"\")\n    setIsTyping(true)\n\n    api\n      .post(\"/chat\", { message: newMessage.content })\n      .then((response) => {\n        const aiResponse: Message = {\n          id: `${Date.now()}-ai`,\n          role: \"assistant\",\n          content: response.data?.message ?? \"No response available yet.\",\n          type: \"text\",\n        }\n        setMessages((prev) => [...prev, aiResponse])\n      })\n      .catch((error: unknown) => {\n        toast.error(getErrorMessage(error, \"Chat request failed.\"))\n      })\n      .finally(() => setIsTyping(false))\n  }\n\n  const handleClear = async () => {\n    if (!isAuthed) return\n    try {\n      await api.delete(\"/chat/history\")\n      setMessages([welcomeMessage])\n      toast.success(\"Chat history cleared.\")\n    } catch (error: unknown) {\n      toast.error(getErrorMessage(error, \"Unable to clear chat.\"))\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-8rem)] space-y-4 max-w-5xl mx-auto w-full\">\n      <div className=\"flex items-center justify-between px-2\">\n        <h2 className=\"text-3xl font-bold tracking-tight flex items-center gap-2\">\n          <Sparkles className=\"h-6 w-6 text-primary\" />\n          <GradientText>Assistant</GradientText>\n        </h2>\n        <Button variant=\"ghost\" size=\"sm\" className=\"gap-2 text-muted-foreground\" onClick={handleClear}>\n          <Trash2 className=\"h-4 w-4\" />\n          Clear\n        </Button>\n      </div>\n\n      <Card className=\"flex-1 flex flex-col overflow-hidden border-border/50 shadow-xl shadow-primary/5 bg-card/40 backdrop-blur-md\">\n        <ScrollArea className=\"flex-1 p-4\">\n          <div className=\"space-y-6 pb-4\">\n            <AnimatePresence>\n              {loadingHistory ? (\n                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"text-sm text-muted-foreground\">\n                  Loading conversation...\n                </motion.div>\n              ) : null}\n              {messages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                  animate={{ opacity: 1, y: 0, scale: 1 }}\n                  className={`flex gap-3 ${message.role === 'user' ? 'flex-row-reverse' : ''}`}\n                >\n                  <Avatar className={`h-8 w-8 shrink-0 ${message.role === 'assistant' ? 'bg-[#f1f5fb] border border-[#e6ebf4]' : 'bg-[#e6ebf4]'}`}>\n                    <AvatarFallback className=\"flex items-center justify-center\">\n                      {message.role === 'assistant' ? <Sparkles className=\"h-4 w-4 text-[#000000]\" /> : <User className=\"h-4 w-4 text-[#55607a]\" />}\n                    </AvatarFallback>\n                  </Avatar>\n\n                  <div className={`flex flex-col max-w-[80%] ${message.role === 'user' ? 'items-end' : 'items-start'}`}>\n                    {message.type === 'code' ? (\n                      <div className=\"rounded-xl overflow-hidden w-full shadow-lg border border-border/50 mt-1\">\n                        <div className=\"bg-muted/50 backdrop-blur px-4 py-2 text-xs text-muted-foreground border-b flex items-center justify-between\">\n                          <span className=\"font-mono\">{message.language}</span>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-6 w-6\"\n                            onClick={() => navigator.clipboard.writeText(message.content)}\n                          >\n                            <Copy className=\"h-3 w-3\" />\n                          </Button>\n                        </div>\n                        <SyntaxHighlighter\n                          language={message.language || 'javascript'}\n                          style={vscDarkPlus}\n                          customStyle={{ margin: 0, padding: '1rem' }}\n                        >\n                          {message.content}\n                        </SyntaxHighlighter>\n                      </div>\n                    ) : (\n                      <div\n                        className={`p-3.5 rounded-2xl text-sm shadow-sm backdrop-blur-sm ${message.role === 'user'\n                          ? 'bg-primary/90 text-primary-foreground rounded-tr-none'\n                          : 'bg-muted/50 border border-border/50 rounded-tl-none'\n                          }`}\n                      >\n                        {message.content}\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              ))}\n              {isTyping && (\n                <motion.div\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className=\"flex gap-3\"\n                >\n                  <Avatar className=\"h-8 w-8 shrink-0 bg-[#f1f5fb] border border-[#e6ebf4]\">\n                    <AvatarFallback className=\"flex items-center justify-center\">\n                      <Sparkles className=\"h-4 w-4 text-[#000000]\" />\n                    </AvatarFallback>\n                  </Avatar>\n                  <div className=\"bg-muted/50 border border-border/50 p-4 rounded-2xl rounded-tl-none flex items-center gap-1.5 h-10\">\n                    <span className=\"block h-1.5 w-1.5 rounded-full bg-primary/50 animate-bounce [animation-delay:-0.3s]\"></span>\n                    <span className=\"block h-1.5 w-1.5 rounded-full bg-primary/50 animate-bounce [animation-delay:-0.15s]\"></span>\n                    <span className=\"block h-1.5 w-1.5 rounded-full bg-primary/50 animate-bounce\"></span>\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n            <div ref={scrollRef} />\n          </div>\n        </ScrollArea>\n\n        <div className=\"p-4 bg-background/50 border-t border-border/50 backdrop-blur\">\n          <form\n            onSubmit={(e) => { e.preventDefault(); handleSend(); }}\n            className=\"flex gap-2 relative max-w-4xl mx-auto\"\n          >\n            <Input\n              placeholder={isAuthed ? \"Ask Stash anything...\" : \"Connect your account to chat\"}\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              disabled={!isAuthed}\n              className=\"pr-12 py-6 bg-background/50 border-primary/20 focus-visible:ring-primary/30 rounded-xl\"\n            />\n            <Button\n              type=\"submit\"\n              size=\"icon\"\n              disabled={!inputValue.trim() || !isAuthed}\n              className=\"absolute right-1 top-1.5 h-9 w-9 rounded-lg bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/25 transition-all hover:scale-105 active:scale-95\"\n            >\n              <Send className=\"h-4 w-4\" />\n            </Button>\n          </form>\n        </div>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}